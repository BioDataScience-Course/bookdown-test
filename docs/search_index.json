[
["visu2.html", "Module 3 Visualisation II", " Module 3 Visualisation II Objectifs Savoir réaliser différentes variantes de graphiques tel que les histogrammes, les graphes de densité ou encore les diagrammes en violon dans R avec la fonction chart() Intégrer ensuite des graphiques dans un rapport et y décrire ce que que vous observez Gérer des conflits dans GitHub A vous de jouer ! Une nouvelle tâche va vous être demandée ci-dessous en utilisant GitHub Classroom 1.2.4.3. Cette tâche est un travail en équipe. Une fois votre assignation réalisée, faite un clone de votre dépôt et placer le dans le dossier projects. Pour cette tâche, vous démarrerez d’un projet RStudio @ref(rs_projet) Un projet sur le zooplancton provenant de Madagascar est mis à votre dispositon. Utilisez l’URL suivant qui va vous donner accès à votre tâche. Cette tâche est un travail individuel. Cette tache est un travail en binome https://classroom.github.com/g/7Ji4Aj9G Employez le projet sur la biométrie des oursins et sur le zooplancton pour découvrir les nouveaux outils graphiques décrits dans ce module. Prérequis Si ce n’est déjà fait, vous devez avoir réaliser les modules précédents. "],
["histogramme.html", "3.1 Histogramme", " 3.1 Histogramme Lors d’une expérience vous souhaitez visualiser la façon dont vos données s’étalent sur un axe (on parle de distribution1 en statistique) pour l’une des variables étudiées. L’histogramme est l’un des outils pouvant vous apporter cette information. Ce graphique va découper en plusieurs classes2 une variable numérique. Figure 3.1: Histogramme montrant la distribution de la taille d’un échantillon de zooplancton étudié par analyse d’image. Les éléments indispensables à la compréhension d’un histogramme sont (ici mis en évidence en couleur) Les axes avec les graduations (en rouge) les labels et unité des axes (en bleu) Les instructions de base afin de produire un histogramme : # Importation du jeu de données (zooplankton &lt;- read( file = &quot;zooplankton&quot;, package = &quot;data.io&quot;, lang = &quot;fr&quot;)) # # A tibble: 1,262 x 20 # ecd area perimeter feret major minor mean mode min max std_dev # &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; # 1 0.770 0.465 4.45 1.32 1.16 0.509 0.363 0.036 0.004 0.908 0.231 # 2 0.700 0.385 2.32 0.728 0.713 0.688 0.361 0.492 0.024 0.676 0.183 # 3 0.815 0.521 4.15 1.33 1.11 0.598 0.308 0.032 0.008 0.696 0.204 # 4 0.785 0.484 4.44 1.78 1.56 0.394 0.332 0.036 0.004 0.728 0.218 # 5 0.361 0.103 1.71 0.739 0.694 0.188 0.153 0.016 0.008 0.452 0.110 # 6 0.832 0.544 5.27 1.66 1.36 0.511 0.371 0.02 0.004 0.844 0.268 # 7 1.23 1.20 15.7 3.92 1.37 1.11 0.217 0.012 0.004 0.784 0.214 # 8 0.620 0.302 3.98 1.19 1.04 0.370 0.316 0.012 0.004 0.756 0.246 # 9 1.19 1.12 15.3 3.85 1.34 1.06 0.176 0.012 0.004 0.728 0.172 # 10 1.04 0.856 7.60 1.89 1.66 0.656 0.404 0.044 0.004 0.88 0.264 # # ... with 1,252 more rows, and 9 more variables: range &lt;dbl&gt;, size &lt;dbl&gt;, # # aspect &lt;dbl&gt;, elongation &lt;dbl&gt;, compactness &lt;dbl&gt;, transparency &lt;dbl&gt;, # # circularity &lt;dbl&gt;, density &lt;dbl&gt;, class &lt;fct&gt; # Réalisation du graphique chart(zooplankton, formula = ~ size) + geom_histogram(bins = 50) Figure 3.2: Instructions pour obtenir un histogramme. # bins permet de préciser le nombre de classes souhaitées La fonction chart() requiert comme argument le jeu de donnée (zooplankton, c’est un objet dataframe ou tibble dans le langage de R), ainsi que la formule à employer dans laquelle vous avez indiqué le nom de la variable que vous voulez sur l’axe des abscisses à droite de la formule. Vous voyez que le jeu de données contient beaucoup de variables (les titres des colonnes du tableau en sortie). Parmi toutes ces variables, nous avons choisi ici de représenter size, Jusqu’ici, nous avons spécifié ce que nous voulons représenter, mais pas encore comment (sous quelle apparence), nous voulons matérialiser cela sur le graphique. Pour un histogramme, nous devons ajouter la fonction geom_histogram(). L’argument bins dans cette fonction permet de préciser le nombre de classes souhaitées. Vous pouvez décrypter votre histogramme sur base des modes3 et de la symétrie4 de ces derniers. Les modes les plus fréquents sont unimodal, bimodal ou multimodal. Figure 3.3: Histogrammes montrant les modes et symétries : A. histogramme unimodal et symétrique, B. histogramme bimodal et asymétrique, C. histogramme unimodal et asymétrique, D. histogramme multimodal et symétrique. 3.1.1 Pièges et astuces 3.1.1.1 Nombres de classes d’un histogramme Vous devez être particulièrement vigilant lors de la réalisation d’un histogramme aux classes de ce dernier. # Réalisation du graphique précédent a &lt;- chart(zooplankton, formula = ~ size) + geom_histogram(bins = 50) # Modification du nombre de classes b &lt;- chart(zooplankton, formula = ~ size) + geom_histogram(bins = 20) c &lt;- chart(zooplankton, formula = ~ size) + geom_histogram(bins = 10) d &lt;- chart(zooplankton, formula = ~ size) + geom_histogram(bins = 5) # Assemblage des graphiques ggarrange(a, b, c, d, labels = &quot;AUTO&quot;, font.label = list(size = 14, align = &quot;hv&quot;)) Figure 3.4: Piège de l’histogramme. A. histogramme initial montrant la répartition des tailles au sein d’organismes planctoniques. B., C., D. Histogramme A en modifiant le nombres de classes. Comme vous pouvez le voir ci-dessus, le changement du nombre de classes peut modifier complètement la perception des données via l’histogramme. 3.1.1.2 Utilisation des snippets RStudio permet de récupérer rapidement des instructions à partir d’une banque de solutions toutes prêtes. Cela s’appelle des snippets. Vous avez une série de snippets disponibles dans la SciViews Box. Celui qui vous permet de réaliser un histogramme s’appelle .cuhist (pour chart -&gt; univariate -&gt; histogram). Entrez ce label dans une zone d’édition de code R et appuyez ensuite sur la tabulation, et vous verrez le code remplacé par ceci : chart(data = DF, ~VARNUM) + geom_histogram(binwidth = 30) L’argument binwidth = permet de préciser la largeur des classes. Vous avez à votre disposition un ensemble de snippets que vous pouvez retrouver dans l’aide-mémoire sur SciViews. Vous avez également à votre disposition l’aide-mémoire sur la visualisation des données (Data Visualization Cheat Sheet). 3.1.1.3 Histogramme par facteur Lors de l’analyse de jeux de données, vous serez amené à réaliser un histogramme par facteur (c’est-à-dire, en fonction de différents niveau d’une variable représentant des groupes). # Importation du jeu de données (iris &lt;- read(file = &quot;iris&quot;, package = &quot;datasets&quot;, lang = &quot;fr&quot;)) # # A tibble: 150 x 5 # sepal_length sepal_width petal_length petal_width species # &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;fct&gt; # 1 5.1 3.5 1.4 0.2 setosa # 2 4.9 3 1.4 0.2 setosa # 3 4.7 3.2 1.3 0.2 setosa # 4 4.6 3.1 1.5 0.2 setosa # 5 5 3.6 1.4 0.2 setosa # 6 5.4 3.9 1.7 0.4 setosa # 7 4.6 3.4 1.4 0.3 setosa # 8 5 3.4 1.5 0.2 setosa # 9 4.4 2.9 1.4 0.2 setosa # 10 4.9 3.1 1.5 0.1 setosa # # ... with 140 more rows # Réalisation de l&#39;histogramme par facteur chart(iris, ~ sepal_length %fill=% species) + geom_histogram() + scale_fill_viridis_d() # palette de couleur harmonieuse # `stat_bin()` using `bins = 30`. Pick better value with `binwidth`. Figure 3.5: Histogramme de la longueur des sépales de 3 espèces d’iris. La fonction chart() requiert comme argument le jeu de donnée (iris, c’est un objet dataframe ou tibble dans le langage de R), ainsi que la formule à employer dans laquelle vous avez indiqué le nom de la variable que vous voulez sur l’axe des abscisses à droite de la formule. Parmi toutes ces variables, nous avons choisi ici de représenter sepal_length. L’intérieur des barres est colorée (%fill=%) pour différencier les 3 espèces de ce jeu de données sur base de la variable species. Jusqu’ici, nous avons spécifié ce que nous voulons représenter, mais pas encore comment (sous quelle apparence), nous voulons les matérialiser sur le graphique. Pour un histogramme, nous devons ajouter la fonction geom_histogram() pour indiquer cela. La fonction scale_fill_viridis_d() permet d’obtenir des couleurs harmonieuses. Le rendu du graphique n’est pas optimal. Voici deux astuces pour l’améliorer. La premières astuces est d’employer préférentiellement les facets au lieu de l’argument %fill=% an utilisant l’opérateur | dans la formule. chart(iris, ~ sepal_length | species) + geom_histogram() # `stat_bin()` using `bins = 30`. Pick better value with `binwidth`. Figure 3.6: Histogramme de la longueur des sépales de 3 espèces d’iris en employant les facets pour séparer les espèces. L’histogramme est maintenant séparé en trois en fonction des niveaux de la variable facteur species. Simon Jackson propose une seconde solution combinant les facets et l’argument fill =. Il faut ensuite ajouter par derriere un histogramme grisé ne tenant pas compte de la variable facteur. chart(iris, formula = ~ sepal_width %fill=% species | species) + geom_histogram(data = iris[ , -c(5)] , fill = &quot;grey&quot;) + # histogramme ne tenant pas compte de la variable species geom_histogram(show.legend = FALSE) + # show.legend = FALSE permet de cacher la légende, si cette denrière n&#39;est pas informative. scale_fill_viridis_d() # `stat_bin()` using `bins = 30`. Pick better value with `binwidth`. # `stat_bin()` using `bins = 30`. Pick better value with `binwidth`. Figure 3.7: Histogramme de la longeur des sépales de 3 espèces d’iris en employant la solution de Simon Jackson. TODO↩ TODO↩ TODO↩ TODO↩ "],
["graphique-de-densite.html", "3.2 Graphique de densité", " 3.2 Graphique de densité L’histogramme n’est pas le seul outil à votre disposition. Vous pouvez également employer le graphique de densité qui se présente un peu comme un histogramme lissé. Le passage d’un histogramme vers un graphe de densité se base sur une estimation par noyaux gaussien5 Figure 3.8: A. Histogramme et B. graphique de densité montrant la distribution de la taille d’un échantillon de zooplancton étudié par analyse d’image. Les éléments indispensables à la compréhension d’un graphique de densité sont (ici mis en évidence en couleur) : Les axes avec les graduations (en rouge) les labels et unité des axes (en bleu) Les instructions de base afin de produire un graphique de densité sont : # Importation du jeu de données (zooplankton &lt;- read( file = &quot;zooplankton&quot;, package = &quot;data.io&quot;, lang = &quot;fr&quot;)) # # A tibble: 1,262 x 20 # ecd area perimeter feret major minor mean mode min max std_dev # &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; # 1 0.770 0.465 4.45 1.32 1.16 0.509 0.363 0.036 0.004 0.908 0.231 # 2 0.700 0.385 2.32 0.728 0.713 0.688 0.361 0.492 0.024 0.676 0.183 # 3 0.815 0.521 4.15 1.33 1.11 0.598 0.308 0.032 0.008 0.696 0.204 # 4 0.785 0.484 4.44 1.78 1.56 0.394 0.332 0.036 0.004 0.728 0.218 # 5 0.361 0.103 1.71 0.739 0.694 0.188 0.153 0.016 0.008 0.452 0.110 # 6 0.832 0.544 5.27 1.66 1.36 0.511 0.371 0.02 0.004 0.844 0.268 # 7 1.23 1.20 15.7 3.92 1.37 1.11 0.217 0.012 0.004 0.784 0.214 # 8 0.620 0.302 3.98 1.19 1.04 0.370 0.316 0.012 0.004 0.756 0.246 # 9 1.19 1.12 15.3 3.85 1.34 1.06 0.176 0.012 0.004 0.728 0.172 # 10 1.04 0.856 7.60 1.89 1.66 0.656 0.404 0.044 0.004 0.88 0.264 # # ... with 1,252 more rows, and 9 more variables: range &lt;dbl&gt;, size &lt;dbl&gt;, # # aspect &lt;dbl&gt;, elongation &lt;dbl&gt;, compactness &lt;dbl&gt;, transparency &lt;dbl&gt;, # # circularity &lt;dbl&gt;, density &lt;dbl&gt;, class &lt;fct&gt; # Réalisation du graphique chart(zooplankton, formula = ~ size) + geom_density() Figure 3.9: Instructions pour obtenir un graphique de densité. La fonction chart() requiert comme argument le jeu de donnée ( dataframe, zooplankton), ainsi que la formule à employer (~ size). Pour réaliser un graphique de densité vous devez ensuite ajouter la fonction geom_density(). TODO↩ "],
["diagramme-en-violon.html", "3.3 Diagramme en violon", " 3.3 Diagramme en violon Le graphique en violon est constitué de deux graphiques de densité en miroir. LE résultat fait penser à un violon pour une distribution bimodale. Cette représentation est visuellement très convainquante lorsque la variable étudiée contient suffisamment d’onservations pour permettre de déterminer précisément sa distribution (plusieurs dizaines ou centaines d’observations). Figure 3.10: Graphe en violon de la distribution de la taille d’un échantillon de zooplancton étudié par analyse d’image. Les instructions pour produire un diagramme en violon sont : # Importation du jeu de données zooplankton &lt;- read( file = &quot;zooplankton&quot;, package = &quot;data.io&quot;, lang = &quot;fr&quot;) # Réduction du jeu de données zooplankton_sub &lt;- filter(zooplankton, class %in% c(&quot;Annelid&quot;, &quot;Calanoid&quot;, &quot;Cyclopoid&quot;, &quot;Decapod&quot;)) # Réalisation du graphique chart(zooplankton_sub, formula = size ~ class) + geom_violin() Figure 3.11: Instructions pour obtenir un diagramme en violon. La fonction chart() requiert comme argument le jeu de donnée (dataframe, zooplankton), ainsi que la formule à employer YVAR (size) ~ XVAR (class). Pour réaliser un graphique de densité vous devez ajouter la fonction geom_density(). 3.3.1 Pièges et astuces Parfois, un diagramme en violon apparait trop encombré, comme ci-dessous. chart(zooplankton, formula = size~ class) + geom_violin() Figure 3.12: Diagramme en violon montrant la densité de tailles des 17 classes d’organismes planctonique. Les libellés des classes sur l’axe X se chevauchent. La fonction coord_flip() peut améliorer le rendu du graphique en le faisant basculer de 90°. chart(zooplankton, formula = size~ class) + geom_violin() + coord_flip() Figure 3.13: Diagramme en violon montrant la densité de tailles des 17 classes d’organismes planctonique avec l’ajout de la fonction coord_flip(). Le package ggridges propose une seconde solution basée sur le principe de graphique de densité avec la fonction geom_density_ridges(). # Importation du packages library(ggridges) # Réalisation du graphique chart(zooplankton, class ~ size) + geom_density_ridges() Figure 3.14: Diagramme en violon montrant la densité de tailles des 17 classes d’organismes planctonique avec la fonction geom_density_ridges. "],
["a-vous-de-jouer-6.html", "3.4 A vous de jouer !", " 3.4 A vous de jouer ! Terminez ce module en vérifiant que vous avez acquis l’ensemble des notions de ce module. Ouvrez RStudio dans votre SciViews Box, puis exécutez l’instruction suivante dans la fenêtre console : BioDataScience::run(&quot;03a_test&quot;) "]
]
